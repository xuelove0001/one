==第十六章代码校验==

​	你永远不能保证你的代码是正确的，你只能证明它是错的。

1. 让我们先暂停编程语言特性的学习，看看一些代码基础知识。特别是能让你的代码 更加健壮的知识。
2. 

==测试==

如果没有测试过，它就是不能工作的。

		1. Java 是一个静态类型的语言，程序员经常对一种编程语言明显的安全性感到过于 舒适，“能通过编译器，那就是没问题的”。
		1. 

==单元测试==

​		这个过程是将集成测试构建到你创建的所有代码中，并在每次构建系统时运行这些 测试。这样，构建过程不仅能检查语法的错误，同时也能检查语义的错误。

​		单元” 是指测试一小部分代码。通常，每个类都有测试来检查它所有方法的行为。 “系统” 测试则是不同的，它检查的是整个程序是否满足要求

​		我自己的测试经历开始于我意识到要确保书中代码的正确性，书中的所有程序必 须能够通过合适的构建系统自动提取、编译。

==JUnit==

​		在 JUnit 最简单的使用中，使用 @Test 注解标记表示测试的每个方法。JUnit 将 这些方法标识为单独的测试，并一次设置和运行一个测试，采取措施避免测试之间的副 作用。

==测试覆盖率的幻觉==



==前置条件==

​		前置条件的概念来自于契约式设计 (Design By Contract, DbC)，利用断言机制 实现。我们从 Java 的断言机制开始来介绍 DBC，最后使用谷歌的 Guava 库作为前置 条件。

==断言（Assertions）==

​		断言通过验证在程序执行期间满足某些条件，从而增加了程序的健壮性。

==Java 断言语法==

​		断言语句有两种形式:

​					assert boolean-expression；

​					assert boolean-expression: information-expression;

​		两者似乎告诉我们 “我断言这个布尔表达式会产生 true”，否则，将抛出 AssertionError 异常。

==Guava 断言==

​		因为启用 Java 本地断言很麻烦，Guava 团队添加一个始终启用的用来替换断言的 Verify 类。他们建议静态导入 Verify 方法

==放松 DbC 检查或非严格的 DbC==

​		尽管 Meyer 强调了前置条件、后置条件和不变性的价值以及在开发过程中使用它 们的重要性，他承认在一个产品中包含所有 DbC 代码并不总是实际的。你可以基于对 特定位置的代码的信任程度放松 DbC 检查。以下是放松检查的顺序，最安全到最不安 全：

DbC + 单元测试

==日志==

​		日志会给出正在运行的程序的各种信息

​		在调试程序中，日志可以是普通状态数据，用于显示程序运行过程在调试期间，日志也能带来好处。如果没有日志，你可能会尝试通过插入 println() 语句来打印出程序的行为。

​		业内普遍认为标准 Java 发行版本中的日志包 (java.util.logging) 的设计相当糟 糕。大多数人会选择其他的替代日志包。如 Simple Logging Facade for Java(SLF4J) , 它 为多个日志框架提供了一个封装好的调用方式，这些日志框架包括 java.util.logging ， logback 和 log4j 。。SLF4J 允许用户在部署时插入所需的日志框架。

==日志等级==

​		SLF4J 提供了多个等级的日志消息。下面这个例子以 “严重性” 的递增顺序对它们 作出演示

你可以按等级来查找消息。级别通常设置在单独的配置文件中，因此你可以重新配 置而无需重新编译。配置文件格式取决于你使用的后端日志包实现。如 logback 使用 XML你可以尝试将 行更改为其他级别，然后重新运行该程序查看日志输出的更改情况。 如果你没有写 logback.xml 文件，日志系统将采取默认配置。 这只是 SLF4J 最简单的介绍和一般的日志消息，但也足以作为使用日志的基础 - 你可以沿着这个进行更长久的学习和实践。你可以查阅 SLF4J 文档来获得更深入的信 息。

==调试==

​		尽管聪明地使用 System.out 或日志信息能给我们带来对程序行为的有效见解，但 对于困难问题来说，这种方式就显得笨拙且耗时了。

==使用 JDB 调试==

​		Java 调试器（JDB）是 JDK 内置的命令行工具。从调试的指令和命令行接口两方 面看的话，JDB 至少从概念上是 GNU 调试器（GDB，受 Unix DB 的影响）的继承者。 JDB 对于学习调试和执行简单的调试任务来说是有用的，而且知道只要安装了 JDK 就 可以使用 JDB 是有帮助的。然而，对于大型项目来说，你可能想要一个图形化的调试 器，这在后面会描述。